# 2026-02-23

## SMTR 프로젝트 진행

### 코린이 아빠 시그널 재추출 (video_summary 포함)
- 기존 169개 시그널에 `video_summary` 필드가 없었음
- 원인: 서브에이전트가 progress 캐시 파일 때문에 실제 재추출 안 함
- progress 파일 삭제 후 재실행했으나, 스크립트가 `video_summary`를 signal에 저장 안 하는 버그 발견
- **수정**: `step0_extract_8types_claude.py`에서 `result.get("video_summary")`를 각 signal dict에 추가
- 78개 자막 파일 대상으로 재추출 시작 (session: cool-reef, `-u` unbuffered)
- 예상 소요: 20-40분 (영상당 15-30초)

### 프롬프트 개선
- 영상 요약(video_summary)을 시그널 추출 전 1단계로 추가 (유저 아이디어)
- "분석 순서" 섹션을 SYSTEM_PROMPT 최상단에 배치
- 목적: 풍자/역설/맥락 의존적 발언 정확도 향상

### 완료된 작업
- generateStaticParams에 id:'4' 추가 → 코린이 아빠 페이지 404 해결
- 시그널 상세보기: inline expansion → modal popup으로 변경
- Signal 인터페이스에 videoTitle, confidence, timeframe 등 필드 추가
- GitHub Pages 배포 완료 (puing5555.github.io/smtr-web)
- signal-review-v3.html에 Opus 4 검증 데이터 인라인

### 핵심 경로
- 추출 스크립트: `invest-sns/smtr_data/corinpapa1106/step0_extract_8types_claude.py`
- 시그널 데이터: `_deduped_signals_8types_dated.json` (v1 백업: `_v1_backup.json`)
- TS 데이터: `src/data/corinpapa-signals.ts`
- 배포: `smtr-web/` → GitHub Pages

### 다음 할 일
- 재추출 완료 후 old vs new 비교 (시그널 수, 타입 변화, video_summary 샘플)
- dedup 실행 (step1_dedup.py)
- corinpapa-signals.ts 업데이트 + Next.js 빌드 + 배포
- 리뷰 페이지 업데이트
