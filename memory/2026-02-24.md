# 2026-02-24

## 투자SNS 차트 작업 (StockChartClient.tsx)

### 문제
- `/stocks/XRP/` 페이지에서 차트가 제대로 안 보임
- lightweight-charts: 캔들 안 보임 (그리드/로고만 보임), autoSize하면 파란 블록
- TradingView embed widget: 높이 제어 불가
- TradingView direct iframe: 높이 OK, 차트 잘 보임 (유저 확인 완료) BUT 커스텀 마커 불가

### 현재 상태
- TradingView iframe → lightweight-charts로 다시 전환 중
- 목표: 시그널 마커를 차트 위에 직접 표시
- CryptoCompare API로 가격 데이터 가져옴 (CORS 문제 없음, API키 불필요)
- 시그널 데이터: zustand store (influencers.ts), XRP 14개 시그널 (코린이 아빠)

### 핵심 파일
- `invest-sns/src/app/(main)/stocks/[symbol]/StockChartClient.tsx` — 수정 중
- Deploy: `npx next build` → `out/*` → `../smtr-web/` → git push

### lightweight-charts 렌더링 이슈 해결 방향
- autoSize 대신 명시적 width(px) 사용
- fitContent()는 데이터 세팅 후 호출
- 컨테이너 높이 제대로 설정
