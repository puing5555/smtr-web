# 2026-02-24

## 인라인 차트 + 메모 기능 작업

### 완료
- `StockChart.tsx` 컴포넌트 생성 (lightweight-charts v5.1.0, 라이트 테마)
- `InfluencerDetailClient.tsx`에서 외부 guru_tracker_v24.html 링크 → 인라인 차트 토글로 교체
- dynamic import로 SSR 크래시 해결
- 노트 페이지에 "새 메모 작성" 폼 추가 (종목 선택 + textarea)
- 빌드 + smtr-web 배포 완료 (commit: ad8190f)
- 브라우저 테스트: 페이지 정상 로드, JS 에러 없음

### 미해결
- 차트 버튼이 배포 페이지에서 안 보이는 문제 — 빌드에 최신 변경 포함됐는지 확인 필요
- StockChart에 mock 데이터 사용 중 → CoinGecko API 연동 필요
- notes/page.tsx ~line 260에 아직 외부 차트 링크 남아있음
- 시그널 필터링: `s.stock === modalSignal.stockName` vs `s.stock === modalSignal.stock` 확인 필요

### 기술 결정
- free memo signalId: `-Date.now()` (음수 ID로 사용자 메모 구분)
- `ColorType.Solid` enum 사용 필요할 수 있음 (v5 호환)

### 파일 위치
- StockChart: `src/components/StockChart.tsx`
- InfluencerDetail: `src/app/(main)/influencers/[id]/InfluencerDetailClient.tsx`
- Notes: `src/app/(main)/notes/page.tsx`
- Scraps store: `src/stores/scraps.ts`
- CoinGecko API: `src/lib/api/coingecko.ts`
