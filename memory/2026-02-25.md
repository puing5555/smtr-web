# 2026-02-25 작업 로그

## 차트 드래그 수익률 기능 수정
- lightweight-charts의 `pressedMouseMove`가 커스텀 드래그-수익률 기능을 가로채고 있었음
- `handleScroll: { pressedMouseMove: false }` 설정으로 해결
- 구글 파이낸스 스타일: 파란 하이라이트 영역 + 상단 수익률 배지

## 차트 데이터 소스 확장
- 기존: CryptoCompare만 지원 (암호화폐 몇 개만 차트 가능)
- 추가: Yahoo Finance API (allorigins.win 프록시로 CORS 해결)
- 지원 종목 확대:
  - 암호화폐 10개 (BTC, ETH, XRP, SOL, BNB, LINK, XMR, WLD, CC, PENGU)
  - 미국 주식 8개 (MSTR, NVDA, PLTR, GOOGL, ATNF, BMNR, CNTN, THAR)
  - 한국 주식 4개 (오뚜기, 율촌화학, SK, 코스피)
  - 일본/호주 (SBI, 라이나스 희토류)
  - 카테고리성 종목은 "차트 미지원" 표시
- 파일: `invest-sns/src/app/(main)/stocks/[symbol]/StockChartClient.tsx`

## GitHub Pages 배포 문제 해결 (중요!)
- **근본 원인**: GitHub Pages 설정이 `main` 브랜치에서 배포하도록 되어 있었는데, `npx gh-pages`는 `gh-pages` 브랜치에 푸시
- 그래서 gh-pages 브랜치에 파일이 있어도 사이트에 반영 안 됨
- **해결**: GitHub repo Settings > Pages에서 브랜치를 `gh-pages`로 변경
- `.nojekyll` 파일도 추가 (Jekyll이 `_next` 폴더 무시하는 문제 방지)
- `--dotfiles` 플래그 필요 (gh-pages npm이 기본적으로 dotfile 스킵)

## 기억해야 할 것
- GitHub Pages 배포 시 항상 `npx gh-pages -d out --dotfiles` 사용
- invest-sns 사이트: https://puing5555.github.io/smtr-web/
- 유저가 구글 파이낸스 스타일 드래그 수익률 원함 (파란 하이라이트 + % 배지)
- 유저가 보낸 영상 직접 재생 불가 - ffmpeg 설치 안 됨
